{"remainingRequest":"/Users/bauerhs/git/report-exporter/clientui/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bauerhs/git/report-exporter/clientui/node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bauerhs/git/report-exporter/clientui/node_modules/@voerro/vue-tagsinput/src/VoerroTagsInput.vue","mtime":499162500000},{"path":"/Users/bauerhs/git/report-exporter/clientui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bauerhs/git/report-exporter/clientui/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bauerhs/git/report-exporter/clientui/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bauerhs/git/report-exporter/clientui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bauerhs/git/report-exporter/clientui/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiB7CiAgICAgICAgZWxlbWVudElkOiBTdHJpbmcsCgogICAgICAgIGV4aXN0aW5nVGFnczogewogICAgICAgICAgICB0eXBlOiBBcnJheSwKICAgICAgICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgdmFsdWU6IHsKICAgICAgICAgICAgdHlwZTogQXJyYXksCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBbXTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZDogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZFN0eWxlOiB7CiAgICAgICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICAgICAgZGVmYXVsdDogJ2JhZGdlcycKICAgICAgICB9LAoKICAgICAgICB0eXBlYWhlYWRBY3RpdmF0aW9uVGhyZXNob2xkOiB7CiAgICAgICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICAgICAgZGVmYXVsdDogMQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZE1heFJlc3VsdHM6IHsKICAgICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OiAwCiAgICAgICAgfSwKCiAgICAgICAgdHlwZWFoZWFkQWx3YXlzU2hvdzogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZFNob3dPbkZvY3VzOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAoKICAgICAgICB0eXBlYWhlYWRIaWRlRGlzY2FyZDogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIHR5cGVhaGVhZFVybDogewogICAgICAgICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICAgICAgIGRlZmF1bHQ6ICcnCiAgICAgICAgfSwKCiAgICAgICAgcGxhY2Vob2xkZXI6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnQWRkIGEgdGFnJwogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgZGlzY2FyZFNlYXJjaFRleHQ6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAnRGlzY2FyZCBTZWFyY2ggUmVzdWx0cycKICAgICAgICB9LAoKICAgICAgICBsaW1pdDogewogICAgICAgICAgICB0eXBlOiBOdW1iZXIsCiAgICAgICAgICAgIGRlZmF1bHQ6IDAKICAgICAgICB9LAoKICAgICAgICBoaWRlSW5wdXRPbkxpbWl0OiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgfSwKCiAgICAgICAgb25seUV4aXN0aW5nVGFnczogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIGRlbGV0ZU9uQmFja3NwYWNlOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IHRydWUKICAgICAgICB9LAoKICAgICAgICBhbGxvd0R1cGxpY2F0ZXM6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAogICAgICAgIAogICAgICAgIHZhbGlkYXRlOiB7CiAgICAgICAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB0cnVlCiAgICAgICAgfSwKCiAgICAgICAgYWRkVGFnc09uQ29tbWE6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAoKICAgICAgICBhZGRUYWdzT25TcGFjZTogewogICAgICAgICAgICB0eXBlOiBCb29sZWFuLAogICAgICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICAgIH0sCgogICAgICAgIGFkZFRhZ3NPbkJsdXI6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogZmFsc2UKICAgICAgICB9LAoKICAgICAgICB3cmFwcGVyQ2xhc3M6IHsKICAgICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgICBkZWZhdWx0OiAndGFncy1pbnB1dC13cmFwcGVyLWRlZmF1bHQnCiAgICAgICAgfSwKCiAgICAgICAgc29ydFNlYXJjaFJlc3VsdHM6IHsKICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICAgICAgZGVmYXVsdDogdHJ1ZQogICAgICAgIH0sCgogICAgICAgIGNhc2VTZW5zaXRpdmVUYWdzOiB7CiAgICAgICAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICAgICAgfSwKCiAgICAgICAgYmVmb3JlQWRkaW5nVGFnOiB7CiAgICAgICAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICAgICAgICBkZWZhdWx0OiAoKSA9PiB0cnVlCiAgICAgICAgfSwKCiAgICAgICAgYmVmb3JlUmVtb3ZpbmdUYWc6IHsKICAgICAgICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+IHRydWUKICAgICAgICB9LAogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGJhZGdlSWQ6IDAsCiAgICAgICAgICAgIHRhZ3M6IFtdLAoKICAgICAgICAgICAgaW5wdXQ6ICcnLAogICAgICAgICAgICBvbGRJbnB1dDogJycsCiAgICAgICAgICAgIGhpZGRlbklucHV0OiAnJywKCiAgICAgICAgICAgIHNlYXJjaFJlc3VsdHM6IFtdLAogICAgICAgICAgICBzZWFyY2hTZWxlY3Rpb246IDAsCgogICAgICAgICAgICBzZWxlY3RlZFRhZzogLTEsCgogICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsCiAgICAgICAgfTsKICAgIH0sCgogICAgY3JlYXRlZCAoKSB7CiAgICAgICAgdGhpcy50YWdzRnJvbVZhbHVlKCk7CgogICAgICAgIGlmICh0aGlzLnR5cGVhaGVhZEFsd2F5c1Nob3cpIHsKICAgICAgICAgICAgdGhpcy5zZWFyY2hUYWcoZmFsc2UpOwogICAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCAoKSB7CiAgICAgICAgLy8gRW1pdCBhbiBldmVudAogICAgICAgIHRoaXMuJGVtaXQoJ2luaXRpYWxpemVkJyk7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gewogICAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMuJHJlZnNbJ3RhZ2lucHV0J10pIHsKICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWFyY2hSZXN1bHRzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCgogICAgY29tcHV0ZWQ6IHsKICAgICAgICBoaWRlSW5wdXRGaWVsZCgpIHsKICAgICAgICAgICAgcmV0dXJuICh0aGlzLmhpZGVJbnB1dE9uTGltaXQgJiYgdGhpcy5saW1pdCA+IDAgJiYgdGhpcy50YWdzLmxlbmd0aCA+PSB0aGlzLmxpbWl0KTsKICAgICAgICB9CiAgICB9LAoKICAgIHdhdGNoOiB7CiAgICAgICAgaW5wdXQobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgICAgICAgdGhpcy5zZWFyY2hUYWcoZmFsc2UpOwoKICAgICAgICAgICAgaWYgKG5ld1ZhbC5sZW5ndGggJiYgbmV3VmFsICE9IG9sZFZhbCkgewogICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IG5ld1ZhbC5zdWJzdHJpbmcob2xkVmFsLmxlbmd0aCwgbmV3VmFsLmxlbmd0aCk7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuYWRkVGFnc09uU3BhY2UpIHsKICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsLmVuZHNXaXRoKCcgJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHNwYWNlIHNob3VsZG4ndCBhY3R1YWxseSBiZSBpbnNlcnRlZAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gbmV3VmFsLnRyaW0oKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgaW5wdXRlZCB0YWcKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdGcm9tSW5wdXQodHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICh0aGlzLmFkZFRhZ3NPbkNvbW1hKSB7CiAgICAgICAgICAgICAgICAgICAgbmV3VmFsID0gbmV3VmFsLnRyaW0oKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbC5lbmRzV2l0aCgnLCcpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb21tYSBzaG91bGRuJ3QgYWN0dWFsbHkgYmUgaW5zZXJ0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG5ld1ZhbC5zdWJzdHJpbmcoMCwgbmV3VmFsLmxlbmd0aCAtIDEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBpbnB1dGVkIHRhZwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ0Zyb21JbnB1dCh0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgbmV3VmFsKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHRhZ3MoKSB7CiAgICAgICAgICAgIC8vIFVwZGF0aW5nIHRoZSBoaWRkZW4gaW5wdXQKICAgICAgICAgICAgdGhpcy5oaWRkZW5JbnB1dCA9IEpTT04uc3RyaW5naWZ5KHRoaXMudGFncyk7CgogICAgICAgICAgICAvLyBVcGRhdGUgdGhlIGJvdW5kIHYtbW9kZWwgdmFsdWUKICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnRhZ3MpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlKCkgewogICAgICAgICAgICB0aGlzLnRhZ3NGcm9tVmFsdWUoKTsKICAgICAgICB9LAoKICAgICAgICB0eXBlYWhlYWRBbHdheXNTaG93KG5ld1ZhbHVlKSB7CiAgICAgICAgICAgIGlmIChuZXdWYWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hUYWcoZmFsc2UpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5jbGVhclNlYXJjaFJlc3VsdHMoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICB9LAoKICAgIG1ldGhvZHM6IHsKICAgICAgICAvKioKICAgICAgICAgKiBSZW1vdmUgcmVzZXJ2ZWQgcmVnZXggY2hhcmFjdGVycyBmcm9tIGEgc3RyaW5nIHNvIHRoYXQgdGhleSBkb24ndAogICAgICAgICAqIGFmZmVjdCBzZWFyY2ggcmVzdWx0cwogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBzdHJpbmcKICAgICAgICAgKiBAcmV0dXJucyBTdHJpbmcKICAgICAgICAgKi8KICAgICAgICBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7CiAgICAgICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xdXFxdL2csICdcXCQmJyk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkIGEgdGFnIHdoZXRoZXIgZnJvbSB1c2VyIGlucHV0IG9yIGZyb20gc2VhcmNoIHJlc3VsdHMgKHR5cGVhaGVhZCkKICAgICAgICAgKiAKICAgICAgICAgKiBAcGFyYW0gaWdub3JlU2VhcmNoUmVzdWx0cwogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICB0YWdGcm9tSW5wdXQoaWdub3JlU2VhcmNoUmVzdWx0cyA9IGZhbHNlKSB7CiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGNob29zaW5nIGEgdGFnIGZyb20gdGhlIHNlYXJjaCByZXN1bHRzCiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaFJlc3VsdHMubGVuZ3RoICYmIHRoaXMuc2VhcmNoU2VsZWN0aW9uID49IDAgJiYgIWlnbm9yZVNlYXJjaFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRoaXMudGFnRnJvbVNlYXJjaCh0aGlzLnNlYXJjaFJlc3VsdHNbdGhpcy5zZWFyY2hTZWxlY3Rpb25dKTsKCiAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gJyc7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBhZGRpbmcgYW4gdW5leGlzdGluZyB0YWcKICAgICAgICAgICAgICAgIGxldCB0ZXh0ID0gdGhpcy5pbnB1dC50cmltKCk7CgogICAgICAgICAgICAgICAgLy8gSWYgdGhlIG5ldyB0YWcgaXMgbm90IGFuIGVtcHR5IHN0cmluZyBhbmQgcGFzc2VzIHZhbGlkYXRpb24KICAgICAgICAgICAgICAgIGlmICghdGhpcy5vbmx5RXhpc3RpbmdUYWdzICYmIHRleHQubGVuZ3RoICYmIHRoaXMudmFsaWRhdGUodGV4dCkpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0ID0gJyc7CgogICAgICAgICAgICAgICAgICAgIC8vIERldGVybWluZSBpZiB0aGUgaW5wdXR0ZWQgdGFnIGV4aXN0cyBpbiB0aGUgZXhpc3RpbmdUYWdzCiAgICAgICAgICAgICAgICAgICAgLy8gYXJyYXkKICAgICAgICAgICAgICAgICAgICBsZXQgbmV3VGFnID0gewogICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdGV4dCwKICAgICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWFyY2hRdWVyeSA9IHRoaXMuZXNjYXBlUmVnRXhwKAogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhc2VTZW5zaXRpdmVUYWdzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG5ld1RhZy52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXdUYWcudmFsdWUudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRhZyBvZiB0aGlzLmV4aXN0aW5nVGFncykgewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlYWJsZSA9IHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFnLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRhZy52YWx1ZS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaFF1ZXJ5ID09PSBjb21wYXJlYWJsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VGFnID0gT2JqZWN0LmFzc2lnbih7fSwgdGFnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUYWcobmV3VGFnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEFkZCBhIHRhZyBmcm9tIHNlYXJjaCByZXN1bHRzIHdoZW4gYSB1c2VyIGNsaWNrcyBvbiBpdAogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSB0YWcKICAgICAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgICAgICovCiAgICAgICAgdGFnRnJvbVNlYXJjaE9uQ2xpY2sodGFnKSB7CiAgICAgICAgICAgIHRoaXMudGFnRnJvbVNlYXJjaCh0YWcpOwoKICAgICAgICAgICAgdGhpcy4kcmVmc1sndGFnaW5wdXQnXS5ibHVyKCk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkIHRoZSBzZWxlY3RlZCB0YWcgZnJvbSB0aGUgc2VhcmNoIHJlc3VsdHMuCiAgICAgICAgICogQ2xlYXIgc2VhcmNoIHJlc3VsdHMuCiAgICAgICAgICogQ2xlYXIgdXNlciBpbnB1dC4KICAgICAgICAgKiAKICAgICAgICAgKiBAcGFyYW0gdGFnCiAgICAgICAgICogQHJldHVybiB2b2lkCiAgICAgICAgICovCiAgICAgICAgdGFnRnJvbVNlYXJjaCh0YWcpIHsKICAgICAgICAgICAgdGhpcy5jbGVhclNlYXJjaFJlc3VsdHMoKTsKICAgICAgICAgICAgdGhpcy5hZGRUYWcodGFnKTsKCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQgPSAnJzsKICAgICAgICAgICAgICAgIHRoaXMub2xkSW5wdXQgPSAnJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQWRkL1NlbGVjdCBhIHRhZwogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSB0YWcKICAgICAgICAgKiBAcmV0dXJucyB2b2lkIHwgQm9vbGVhbgogICAgICAgICAqLwogICAgICAgIGFkZFRhZyh0YWcpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmJlZm9yZUFkZGluZ1RhZyh0YWcpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBsaW1pdCBoYXMgYmVlbiByZWFjaGVkCiAgICAgICAgICAgIGlmICh0aGlzLmxpbWl0ID4gMCAmJiB0aGlzLnRhZ3MubGVuZ3RoID49IHRoaXMubGltaXQpIHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2xpbWl0LXJlYWNoZWQnKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIEF0dGFjaCB0aGUgdGFnIGlmIGl0IGhhc24ndCBiZWVuIGF0dGFjaGVkIHlldAogICAgICAgICAgICBpZiAoIXRoaXMudGFnU2VsZWN0ZWQodGFnKSkgewogICAgICAgICAgICAgICAgdGhpcy50YWdzLnB1c2godGFnKTsKCiAgICAgICAgICAgICAgICAvLyBFbWl0IGV2ZW50cwogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3RhZy1hZGRlZCcsIHRhZyk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgndGFncy11cGRhdGVkJyk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFJlbW92ZSB0aGUgbGFzdCB0YWcgaW4gdGhlIHRhZ3MgYXJyYXkuCiAgICAgICAgICogCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIHJlbW92ZUxhc3RUYWcoKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5pbnB1dC5sZW5ndGggJiYgdGhpcy5kZWxldGVPbkJhY2tzcGFjZSAmJiB0aGlzLnRhZ3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRhZyh0aGlzLnRhZ3MubGVuZ3RoIC0gMSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBSZW1vdmUgdGhlIHNlbGVjdGVkIHRhZyBhdCB0aGUgc3BlY2lmaWVkIGluZGV4LgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBpbmRleAogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICByZW1vdmVUYWcoaW5kZXgpIHsKICAgICAgICAgICAgbGV0IHRhZyA9IHRoaXMudGFnc1tpbmRleF07CgogICAgICAgICAgICBpZiAoIXRoaXMuYmVmb3JlUmVtb3ZpbmdUYWcodGFnKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnRhZ3Muc3BsaWNlKGluZGV4LCAxKTsKCiAgICAgICAgICAgIC8vIEVtaXQgZXZlbnRzCiAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3RhZy1yZW1vdmVkJywgdGFnKTsKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3RhZ3MtdXBkYXRlZCcpOwoKICAgICAgICAgICAgICAgIGlmICh0aGlzLnR5cGVhaGVhZEFsd2F5c1Nob3cpIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFRhZygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBTZWFyY2ggdGhlIGN1cnJlbnRseSBlbnRlcmVkIHRleHQgaW4gdGhlIGxpc3Qgb2YgZXhpc3RpbmcgdGFncwogICAgICAgICAqIAogICAgICAgICAqIEByZXR1cm5zIHZvaWQgfCBCb29sZWFuCiAgICAgICAgICovCiAgICAgICAgc2VhcmNoVGFnKCkgewogICAgICAgICAgICBpZiAodGhpcy50eXBlYWhlYWQgIT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHRoaXMub2xkSW5wdXQgIT0gdGhpcy5pbnB1dCB8fCAoIXRoaXMuc2VhcmNoUmVzdWx0cy5sZW5ndGggJiYgdGhpcy50eXBlYWhlYWRBY3RpdmF0aW9uVGhyZXNob2xkID09IDApIHx8IHRoaXMudHlwZWFoZWFkQWx3YXlzU2hvdyB8fCB0aGlzLnR5cGVhaGVhZFNob3dPbkZvY3VzKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoU2VsZWN0aW9uID0gMDsKICAgICAgICAgICAgICAgIGxldCBpbnB1dCA9IHRoaXMuaW5wdXQudHJpbSgpOwoKICAgICAgICAgICAgICAgIGlmICgoaW5wdXQubGVuZ3RoICYmIGlucHV0Lmxlbmd0aCA+PSB0aGlzLnR5cGVhaGVhZEFjdGl2YXRpb25UaHJlc2hvbGQpIHx8IHRoaXMudHlwZWFoZWFkQWN0aXZhdGlvblRocmVzaG9sZCA9PSAwIHx8IHRoaXMudHlwZWFoZWFkQWx3YXlzU2hvdykgewogICAgICAgICAgICAgICAgICAgIC8vIEZpbmQgYWxsIHRoZSBleGlzdGluZyB0YWdzIHdoaWNoIGluY2x1ZGUgdGhlIHNlYXJjaCB0ZXh0CiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSB0aGlzLmVzY2FwZVJlZ0V4cCgKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXNlU2Vuc2l0aXZlVGFncyA/IGlucHV0IDogaW5wdXQudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAgICAgICAgICk7CgogICAgICAgICAgICAgICAgICAgIC8vIEFKQVggc2VhcmNoCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudHlwZWFoZWFkVXJsLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGlzdGluZ1RhZ3Muc3BsaWNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzOwoKICAgICAgICAgICAgICAgICAgICAgICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0ICYmIHRoaXMuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuZXhpc3RpbmdUYWdzID0gSlNPTi5wYXJzZSh4aHR0cC5yZXNwb25zZVRleHQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmRvU2VhcmNoKHNlYXJjaFF1ZXJ5KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLnR5cGVhaGVhZFVybC5yZXBsYWNlKCc6c2VhcmNoJywgc2VhcmNoUXVlcnkpOwogICAgICAgICAgICAgICAgICAgICAgICB4aHR0cC5vcGVuKCdHRVQnLCBlbmRwb2ludCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAvLyBTZWFyY2ggdGhlIGV4aXN0aW5nIGNvbGxlY3Rpb24KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kb1NlYXJjaChzZWFyY2hRdWVyeSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMub2xkSW5wdXQgPSB0aGlzLmlucHV0OwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogUGVyZm9ybSB0aGUgYWN0dWFsIHNlYXJjaAogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBzdHJpbmcgc2VhcmNoUXVlcnkKICAgICAgICAgKiBAcmV0dXJuIHZvaWQKICAgICAgICAgKi8KICAgICAgICBkb1NlYXJjaChzZWFyY2hRdWVyeSkgewogICAgICAgICAgICBmb3IgKGxldCB0YWcgb2YgdGhpcy5leGlzdGluZ1RhZ3MpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBhcmVhYmxlID0gdGhpcy5jYXNlU2Vuc2l0aXZlVGFncwogICAgICAgICAgICAgICAgICAgID8gdGFnLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgOiB0YWcudmFsdWUudG9Mb3dlckNhc2UoKTsKCiAgICAgICAgICAgICAgICBpZiAoY29tcGFyZWFibGUuc2VhcmNoKHNlYXJjaFF1ZXJ5KSA+IC0xICYmICEgdGhpcy50YWdTZWxlY3RlZCh0YWcpKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzLnB1c2godGFnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU29ydCB0aGUgc2VhcmNoIHJlc3VsdHMgYWxwaGFiZXRpY2FsbHkKICAgICAgICAgICAgaWYgKHRoaXMuc29ydFNlYXJjaFJlc3VsdHMpIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cy5zb3J0KChhLCBiKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGEudmFsdWUgPCBiLnZhbHVlKSByZXR1cm4gLTE7CiAgICAgICAgICAgICAgICAgICAgaWYgKGEudmFsdWUgPiBiLnZhbHVlKSByZXR1cm4gMTsKCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gU2hvcnRlbiBTZWFyY2ggcmVzdWx0cyB0byBkZXNpcmVkIGxlbmd0aAogICAgICAgICAgICBpZiAodGhpcy50eXBlYWhlYWRNYXhSZXN1bHRzID4gMCkgewogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gdGhpcy5zZWFyY2hSZXN1bHRzLnNsaWNlKAogICAgICAgICAgICAgICAgICAgIDAsCiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlYWhlYWRNYXhSZXN1bHRzCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogSGlkZSB0aGUgdHlwZWFoZWFkIGlmIHRoZXJlJ3Mgbm90aGluZyBpbnRlcmVkIGludG8gdGhlIGlucHV0IGZpZWxkLgogICAgICAgICAqIAogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICBoaWRlVHlwZWFoZWFkKCkgewogICAgICAgICAgICBpZiAoISB0aGlzLmlucHV0Lmxlbmd0aCkgewogICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJTZWFyY2hSZXN1bHRzKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFNlbGVjdCB0aGUgbmV4dCBzZWFyY2ggcmVzdWx0IGluIHR5cGVhaGVhZC4KICAgICAgICAgKiAKICAgICAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgICAgICovCiAgICAgICAgbmV4dFNlYXJjaFJlc3VsdCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuc2VhcmNoU2VsZWN0aW9uICsgMSA8PSB0aGlzLnNlYXJjaFJlc3VsdHMubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hTZWxlY3Rpb24rKzsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFNlbGVjdCB0aGUgcHJldmlvdXMgc2VhcmNoIHJlc3VsdCBpbiB0eXBlYWhlYWQuCiAgICAgICAgICogCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIHByZXZTZWFyY2hSZXN1bHQoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnNlYXJjaFNlbGVjdGlvbiA+IDApIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoU2VsZWN0aW9uLS07CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDbGVhci9FbXB0eSB0aGUgc2VhcmNoIHJlc3VsdHMuCiAgICAgICAgICogCiAgICAgICAgICogQHJldXRybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIGNsZWFyU2VhcmNoUmVzdWx0cyhyZXR1cm5Gb2N1cyA9IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cyA9IFtdOwogICAgICAgICAgICB0aGlzLnNlYXJjaFNlbGVjdGlvbiA9IDA7CgogICAgICAgICAgICBpZiAodGhpcy50eXBlYWhlYWRBbHdheXNTaG93KSB7CiAgICAgICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hUYWcoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAocmV0dXJuRm9jdXMpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnNbJ3RhZ2lucHV0J10uZm9jdXMoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIENsZWFyIHRoZSBsaXN0IG9mIHNlbGVjdGVkIHRhZ3MuCiAgICAgICAgICogCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIGNsZWFyVGFncygpIHsKICAgICAgICAgICAgdGhpcy50YWdzLnNwbGljZSgwLCB0aGlzLnRhZ3MubGVuZ3RoKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBSZXBsYWNlIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGFncyB3aXRoIHRoZSB0YWdzIGZyb20gdGhlIHZhbHVlLgogICAgICAgICAqIAogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICB0YWdzRnJvbVZhbHVlKCkgewogICAgICAgICAgICBpZiAodGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVm9lcnJvIFRhZ3MgSW5wdXQ6IHRoZSB2LW1vZGVsIHZhbHVlIG11c3QgYmUgYW4gYXJyYXkhJyk7CgogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IHRhZ3MgPSB0aGlzLnZhbHVlOwoKICAgICAgICAgICAgICAgIC8vIERvbid0IHVwZGF0ZSBpZiBub3RoaW5nIGhhcyBjaGFuZ2VkCiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzID09IHRhZ3MpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5jbGVhclRhZ3MoKTsKCiAgICAgICAgICAgICAgICBmb3IgKGxldCB0YWcgb2YgdGFncykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVGFnKHRhZyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUYWdzKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDaGVjayBpZiBhIHRhZyBpcyBhbHJlYWR5IHNlbGVjdGVkLgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSB0YWcKICAgICAgICAgKiBAcmV0dXJucyBCb29sZWFuCiAgICAgICAgICovCiAgICAgICAgdGFnU2VsZWN0ZWQodGFnKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmFsbG93RHVwbGljYXRlcykgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoISB0YWcpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSB0aGlzLmVzY2FwZVJlZ0V4cCgKICAgICAgICAgICAgICAgIHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MgPyB0YWcudmFsdWUgOiB0YWcudmFsdWUudG9Mb3dlckNhc2UoKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgZm9yIChsZXQgc2VsZWN0ZWRUYWcgb2YgdGhpcy50YWdzKSB7CiAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlYWJsZSA9IHRoaXMuY2FzZVNlbnNpdGl2ZVRhZ3MKICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkVGFnLnZhbHVlCiAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFRhZy52YWx1ZS50b0xvd2VyQ2FzZSgpOwoKICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFRhZy5rZXkgPT09IHRhZy5rZXkgJiYgdGhpcy5lc2NhcGVSZWdFeHAoY29tcGFyZWFibGUpLmxlbmd0aCA9PSBzZWFyY2hRdWVyeS5sZW5ndGggJiYgY29tcGFyZWFibGUuc2VhcmNoKHNlYXJjaFF1ZXJ5KSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDbGVhciB0aGUgaW5wdXQuCiAgICAgICAgICogCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIGNsZWFySW5wdXQoKSB7CiAgICAgICAgICAgIHRoaXMuaW5wdXQgPSAnJzsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBQcm9jZXNzIGFsbCB0aGUga2V5dXAgZXZlbnRzLgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBlCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIG9uS2V5VXAoZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdrZXl1cCcsIGUpOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFByb2Nlc3MgYWxsIHRoZSBrZXlkb3duIGV2ZW50cy4KICAgICAgICAgKiAKICAgICAgICAgKiBAcGFyYW0gZQogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICBvbktleURvd24oZSkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdrZXlkb3duJywgZSk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogUHJvY2VzcyB0aGUgb25mb2N1cyBldmVudC4KICAgICAgICAgKiAKICAgICAgICAgKiBAcGFyYW0gZQogICAgICAgICAqIEByZXR1cm5zIHZvaWQKICAgICAgICAgKi8KICAgICAgICBvbkZvY3VzKGUpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnZm9jdXMnLCBlKTsKCiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFByb2Nlc3MgdGhlIG9uQ2xpY2sgZXZlbnQuCiAgICAgICAgICogCiAgICAgICAgICogQHBhcmFtIGUKICAgICAgICAgKiBAcmV0dXJucyB2b2lkCiAgICAgICAgICovCiAgICAgICAgb25DbGljayhlKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrJywgZSk7CgogICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTsKCiAgICAgICAgICAgIHRoaXMuc2VhcmNoVGFnKCk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogUHJvY2VzcyB0aGUgb25ibHVyIGV2ZW50LgogICAgICAgICAqIAogICAgICAgICAqIEBwYXJhbSBlCiAgICAgICAgICogQHJldHVybnMgdm9pZAogICAgICAgICAqLwogICAgICAgIG9uQmx1cihlKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2JsdXInLCBlKQoKICAgICAgICAgICAgaWYgKHRoaXMuYWRkVGFnc09uQmx1cikgewogICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBpbnB1dGVkIHRhZwogICAgICAgICAgICAgICAgdGhpcy50YWdGcm9tSW5wdXQodHJ1ZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghdGhpcy50eXBlYWhlYWRBbHdheXNTaG93KSB7CiAgICAgICAgICAgICAgICB0aGlzLmhpZGVUeXBlYWhlYWQoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoVGFnKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTsKICAgICAgICB9LAogICAgfQp9Cg=="},{"version":3,"sources":["VoerroTagsInput.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"VoerroTagsInput.vue","sourceRoot":"node_modules/@voerro/vue-tagsinput/src","sourcesContent":["<template>\n    <div class=\"tags-input-root\" style=\"position: relative;\">\n        <div :class=\"{\n            [wrapperClass + ' tags-input']: true,\n            'active': isActive,\n        }\">\n            <span class=\"tags-input-badge tags-input-badge-pill tags-input-badge-selected-default\"\n                v-for=\"(tag, index) in tags\"\n                :key=\"index\"\n            >\n                <span v-html=\"tag.value\"></span>\n\n                <a href=\"#\"\n                    class=\"tags-input-remove\"\n                    @click.prevent=\"removeTag(index)\"></a>\n            </span>\n\n            <input type=\"text\"\n                ref=\"taginput\"\n                :placeholder=\"placeholder\"\n                v-model=\"input\"\n                v-show=\"!hideInputField\"\n                @keydown.enter.prevent=\"tagFromInput(false)\"\n                @keydown.8=\"removeLastTag\"\n                @keydown.down=\"nextSearchResult\"\n                @keydown.up=\"prevSearchResult\"\n                @keydown=\"onKeyDown\"\n                @keyup=\"onKeyUp\"\n                @keyup.esc=\"clearSearchResults\"\n                @focus=\"onFocus\"\n                @click=\"onClick\"\n                @blur=\"onBlur\"\n                @value=\"tags\">\n\n            <input type=\"hidden\" v-if=\"elementId\"\n                :name=\"elementId\"\n                :id=\"elementId\"\n                v-model=\"hiddenInput\">\n        </div>\n\n        <!-- Typeahead/Autocomplete -->\n        <div v-show=\"searchResults.length\">\n            <p v-if=\"typeaheadStyle === 'badges'\" :class=\"`typeahead-${typeaheadStyle}`\">\n                <span v-if=\"!typeaheadHideDiscard\" class=\"tags-input-badge typeahead-hide-btn tags-input-typeahead-item-default\"\n                    @click.prevent=\"clearSearchResults(true)\"\n                    v-text=\"discardSearchText\"></span>\n\n                <span v-for=\"(tag, index) in searchResults\"\n                    :key=\"index\"\n                    v-html=\"tag.value\"\n                    @mouseover=\"searchSelection = index\"\n                    @mousedown.prevent=\"tagFromSearchOnClick(tag)\"\n                    class=\"tags-input-badge\"\n                    v-bind:class=\"{\n                        'tags-input-typeahead-item-default': index != searchSelection,\n                        'tags-input-typeahead-item-highlighted-default': index == searchSelection\n                    }\"></span>\n            </p>\n\n            <ul v-else-if=\"typeaheadStyle === 'dropdown'\" :class=\"`typeahead-${typeaheadStyle}`\">\n                <li v-if=\"!typeaheadHideDiscard\" class=\"tags-input-typeahead-item-default typeahead-hide-btn\"\n                    @click.prevent=\"clearSearchResults(true)\"\n                    v-text=\"discardSearchText\"></li>\n\n                <li v-for=\"(tag, index) in searchResults\"\n                :key=\"index\"\n                v-html=\"tag.value\"\n                @mouseover=\"searchSelection = index\"\n                @mousedown.prevent=\"tagFromSearchOnClick(tag)\"\n                v-bind:class=\"{\n                    'tags-input-typeahead-item-default': index != searchSelection,\n                    'tags-input-typeahead-item-highlighted-default': index == searchSelection\n                }\"></li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: {\n        elementId: String,\n\n        existingTags: {\n            type: Array,\n            default: () => {\n                return [];\n            }\n        },\n\n        value: {\n            type: Array,\n            default: () => {\n                return [];\n            }\n        },\n\n        typeahead: {\n            type: Boolean,\n            default: false\n        },\n\n        typeaheadStyle: {\n            type: String,\n            default: 'badges'\n        },\n\n        typeaheadActivationThreshold: {\n            type: Number,\n            default: 1\n        },\n\n        typeaheadMaxResults: {\n            type: Number,\n            default: 0\n        },\n\n        typeaheadAlwaysShow: {\n            type: Boolean,\n            default: false\n        },\n\n        typeaheadShowOnFocus: {\n            type: Boolean,\n            default: true\n        },\n\n        typeaheadHideDiscard: {\n            type: Boolean,\n            default: false\n        },\n\n        typeaheadUrl: {\n            type: String,\n            default: ''\n        },\n\n        placeholder: {\n            type: String,\n            default: 'Add a tag'\n        },\n        \n        discardSearchText: {\n            type: String,\n            default: 'Discard Search Results'\n        },\n\n        limit: {\n            type: Number,\n            default: 0\n        },\n\n        hideInputOnLimit: {\n            type: Boolean,\n            default: false\n        },\n\n        onlyExistingTags: {\n            type: Boolean,\n            default: false\n        },\n\n        deleteOnBackspace: {\n            type: Boolean,\n            default: true\n        },\n\n        allowDuplicates: {\n            type: Boolean,\n            default: false\n        },\n        \n        validate: {\n            type: Function,\n            default: () => true\n        },\n\n        addTagsOnComma: {\n            type: Boolean,\n            default: false\n        },\n\n        addTagsOnSpace: {\n            type: Boolean,\n            default: false\n        },\n\n        addTagsOnBlur: {\n            type: Boolean,\n            default: false\n        },\n\n        wrapperClass: {\n            type: String,\n            default: 'tags-input-wrapper-default'\n        },\n\n        sortSearchResults: {\n            type: Boolean,\n            default: true\n        },\n\n        caseSensitiveTags: {\n            type: Boolean,\n            default: false\n        },\n\n        beforeAddingTag: {\n            type: Function,\n            default: () => true\n        },\n\n        beforeRemovingTag: {\n            type: Function,\n            default: () => true\n        },\n    },\n\n    data() {\n        return {\n            badgeId: 0,\n            tags: [],\n\n            input: '',\n            oldInput: '',\n            hiddenInput: '',\n\n            searchResults: [],\n            searchSelection: 0,\n\n            selectedTag: -1,\n\n            isActive: false,\n        };\n    },\n\n    created () {\n        this.tagsFromValue();\n\n        if (this.typeaheadAlwaysShow) {\n            this.searchTag(false);\n        }\n    },\n\n    mounted () {\n        // Emit an event\n        this.$emit('initialized');\n        \n        document.addEventListener('click', (e) => {\n            if (e.target !== this.$refs['taginput']) {\n                this.clearSearchResults();\n            }\n        });\n    },\n\n    computed: {\n        hideInputField() {\n            return (this.hideInputOnLimit && this.limit > 0 && this.tags.length >= this.limit);\n        }\n    },\n\n    watch: {\n        input(newVal, oldVal) {\n            this.searchTag(false);\n\n            if (newVal.length && newVal != oldVal) {\n                const diff = newVal.substring(oldVal.length, newVal.length);\n\n                if (this.addTagsOnSpace) {\n                    if (newVal.endsWith(' ')) {\n                        // The space shouldn't actually be inserted\n                        this.input = newVal.trim();\n\n                        // Add the inputed tag\n                        this.tagFromInput(true);\n                    }\n                }\n\n                if (this.addTagsOnComma) {\n                    newVal = newVal.trim();\n\n                    if (newVal.endsWith(',')) {\n                        // The comma shouldn't actually be inserted\n                        this.input = newVal.substring(0, newVal.length - 1);\n\n                        // Add the inputed tag\n                        this.tagFromInput(true);\n                    }\n                }\n\n                this.$emit('change', newVal);\n            }\n        },\n\n        tags() {\n            // Updating the hidden input\n            this.hiddenInput = JSON.stringify(this.tags);\n\n            // Update the bound v-model value\n            this.$emit('input', this.tags);\n        },\n\n        value() {\n            this.tagsFromValue();\n        },\n\n        typeaheadAlwaysShow(newValue) {\n            if (newValue) {\n                this.searchTag(false);\n            } else {\n                this.clearSearchResults();\n            }\n        },\n    },\n\n    methods: {\n        /**\n         * Remove reserved regex characters from a string so that they don't\n         * affect search results\n         * \n         * @param string\n         * @returns String\n         */\n        escapeRegExp(string) {\n            return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n        },\n\n        /**\n         * Add a tag whether from user input or from search results (typeahead)\n         * \n         * @param ignoreSearchResults\n         * @returns void\n         */\n        tagFromInput(ignoreSearchResults = false) {\n            // If we're choosing a tag from the search results\n            if (this.searchResults.length && this.searchSelection >= 0 && !ignoreSearchResults) {\n                this.tagFromSearch(this.searchResults[this.searchSelection]);\n\n                this.input = '';\n            } else {\n                // If we're adding an unexisting tag\n                let text = this.input.trim();\n\n                // If the new tag is not an empty string and passes validation\n                if (!this.onlyExistingTags && text.length && this.validate(text)) {\n                    this.input = '';\n\n                    // Determine if the inputted tag exists in the existingTags\n                    // array\n                    let newTag = {\n                        key: '',\n                        value: text,\n                    };\n\n                    const searchQuery = this.escapeRegExp(\n                        this.caseSensitiveTags\n                            ? newTag.value\n                            : newTag.value.toLowerCase()\n                    );\n\n                    for (let tag of this.existingTags) {\n                        const compareable = this.caseSensitiveTags\n                            ? tag.value\n                            : tag.value.toLowerCase();\n\n                        if (searchQuery === compareable) {\n                            newTag = Object.assign({}, tag);\n\n                            break;\n                        }\n                    }\n\n                    this.addTag(newTag);\n                }\n            }\n        },\n\n        /**\n         * Add a tag from search results when a user clicks on it\n         * \n         * @param tag\n         * @returns void\n         */\n        tagFromSearchOnClick(tag) {\n            this.tagFromSearch(tag);\n\n            this.$refs['taginput'].blur();\n        },\n\n        /**\n         * Add the selected tag from the search results.\n         * Clear search results.\n         * Clear user input.\n         * \n         * @param tag\n         * @return void\n         */\n        tagFromSearch(tag) {\n            this.clearSearchResults();\n            this.addTag(tag);\n\n            this.$nextTick(() => {\n                this.input = '';\n                this.oldInput = '';\n            });\n        },\n\n        /**\n         * Add/Select a tag\n         * \n         * @param tag\n         * @returns void | Boolean\n         */\n        addTag(tag) {\n            if (!this.beforeAddingTag(tag)) {\n                return false;\n            }\n\n            // Check if the limit has been reached\n            if (this.limit > 0 && this.tags.length >= this.limit) {\n                this.$emit('limit-reached');\n\n                return false;\n            }\n\n            // Attach the tag if it hasn't been attached yet\n            if (!this.tagSelected(tag)) {\n                this.tags.push(tag);\n\n                // Emit events\n                this.$nextTick(() => {\n                    this.$emit('tag-added', tag);\n                    this.$emit('tags-updated');\n                });\n            }\n        },\n\n        /**\n         * Remove the last tag in the tags array.\n         * \n         * @returns void\n         */\n        removeLastTag() {\n            if (!this.input.length && this.deleteOnBackspace && this.tags.length) {\n                this.removeTag(this.tags.length - 1);\n            }\n        },\n\n        /**\n         * Remove the selected tag at the specified index.\n         * \n         * @param index\n         * @returns void\n         */\n        removeTag(index) {\n            let tag = this.tags[index];\n\n            if (!this.beforeRemovingTag(tag)) {\n                return false;\n            }\n\n            this.tags.splice(index, 1);\n\n            // Emit events\n            this.$nextTick(() => {\n                this.$emit('tag-removed', tag);\n                this.$emit('tags-updated');\n\n                if (this.typeaheadAlwaysShow) {\n                    this.searchTag();\n                }\n            });\n        },\n\n        /**\n         * Search the currently entered text in the list of existing tags\n         * \n         * @returns void | Boolean\n         */\n        searchTag() {\n            if (this.typeahead !== true) {\n                return false;\n            }\n\n            if (this.oldInput != this.input || (!this.searchResults.length && this.typeaheadActivationThreshold == 0) || this.typeaheadAlwaysShow || this.typeaheadShowOnFocus) {\n                this.searchResults = [];\n                this.searchSelection = 0;\n                let input = this.input.trim();\n\n                if ((input.length && input.length >= this.typeaheadActivationThreshold) || this.typeaheadActivationThreshold == 0 || this.typeaheadAlwaysShow) {\n                    // Find all the existing tags which include the search text\n                    const searchQuery = this.escapeRegExp(\n                        this.caseSensitiveTags ? input : input.toLowerCase()\n                    );\n\n                    // AJAX search\n                    if (this.typeaheadUrl.length > 0) {\n                        this.existingTags.splice();\n                        const xhttp = new XMLHttpRequest();\n                        const that = this;\n\n                        xhttp.onreadystatechange = function () {\n                            if (this.readyState == 4 && this.status == 200) {\n                                that.existingTags = JSON.parse(xhttp.responseText);\n\n                                that.doSearch(searchQuery);\n                            }\n                        }\n\n                        const endpoint = this.typeaheadUrl.replace(':search', searchQuery);\n                        xhttp.open('GET', endpoint, true);\n                        xhttp.send();\n                    } else {\n                        // Search the existing collection\n                        this.doSearch(searchQuery);\n                    }\n                }\n\n                this.oldInput = this.input;\n            }\n        },\n\n        /**\n         * Perform the actual search\n         * \n         * @param string searchQuery\n         * @return void\n         */\n        doSearch(searchQuery) {\n            for (let tag of this.existingTags) {\n                const compareable = this.caseSensitiveTags\n                    ? tag.value\n                    : tag.value.toLowerCase();\n\n                if (compareable.search(searchQuery) > -1 && ! this.tagSelected(tag)) {\n                    this.searchResults.push(tag);\n                }\n            }\n\n            // Sort the search results alphabetically\n            if (this.sortSearchResults) {\n                this.searchResults.sort((a, b) => {\n                    if (a.value < b.value) return -1;\n                    if (a.value > b.value) return 1;\n\n                    return 0;\n                });\n            }\n\n            // Shorten Search results to desired length\n            if (this.typeaheadMaxResults > 0) {\n                this.searchResults = this.searchResults.slice(\n                    0,\n                    this.typeaheadMaxResults\n                );\n            }\n        },\n\n        /**\n         * Hide the typeahead if there's nothing intered into the input field.\n         * \n         * @returns void\n         */\n        hideTypeahead() {\n            if (! this.input.length) {\n                this.$nextTick(() => {\n                    this.clearSearchResults();\n                });\n            }\n        },\n\n        /**\n         * Select the next search result in typeahead.\n         * \n         * @returns void\n         */\n        nextSearchResult() {\n            if (this.searchSelection + 1 <= this.searchResults.length - 1) {\n                this.searchSelection++;\n            }\n        },\n\n        /**\n         * Select the previous search result in typeahead.\n         * \n         * @returns void\n         */\n        prevSearchResult() {\n            if (this.searchSelection > 0) {\n                this.searchSelection--;\n            }\n        },\n\n        /**\n         * Clear/Empty the search results.\n         * \n         * @reutrns void\n         */\n        clearSearchResults(returnFocus = false) {\n            this.searchResults = [];\n            this.searchSelection = 0;\n\n            if (this.typeaheadAlwaysShow) {\n                this.$nextTick(() => {\n                    this.searchTag();\n                });\n            }\n\n            if (returnFocus) {\n                this.$refs['taginput'].focus();\n            }\n        },\n\n        /**\n         * Clear the list of selected tags.\n         * \n         * @returns void\n         */\n        clearTags() {\n            this.tags.splice(0, this.tags.length);\n        },\n\n        /**\n         * Replace the currently selected tags with the tags from the value.\n         * \n         * @returns void\n         */\n        tagsFromValue() {\n            if (this.value && this.value.length) {\n                if (!Array.isArray(this.value)) {\n                    console.error('Voerro Tags Input: the v-model value must be an array!');\n\n                    return;\n                }\n                \n                let tags = this.value;\n\n                // Don't update if nothing has changed\n                if (this.tags == tags) {\n                    return;\n                }\n\n                this.clearTags();\n\n                for (let tag of tags) {\n                    this.addTag(tag);\n                }\n            } else {\n                if (this.tags.length == 0) {\n                    return;\n                }\n\n                this.clearTags();\n            }\n        },\n\n        /**\n         * Check if a tag is already selected.\n         * \n         * @param tag\n         * @returns Boolean\n         */\n        tagSelected(tag) {\n            if (this.allowDuplicates) {\n                return false;\n            }\n\n            if (! tag) {\n                return false;\n            }\n\n            const searchQuery = this.escapeRegExp(\n                this.caseSensitiveTags ? tag.value : tag.value.toLowerCase()\n            );\n\n            for (let selectedTag of this.tags) {\n                const compareable = this.caseSensitiveTags\n                    ? selectedTag.value\n                    : selectedTag.value.toLowerCase();\n\n                if (selectedTag.key === tag.key && this.escapeRegExp(compareable).length == searchQuery.length && compareable.search(searchQuery) > -1) {\n                    return true;\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * Clear the input.\n         * \n         * @returns void\n         */\n        clearInput() {\n            this.input = '';\n        },\n\n        /**\n         * Process all the keyup events.\n         * \n         * @param e\n         * @returns void\n         */\n        onKeyUp(e) {\n            this.$emit('keyup', e);\n        },\n\n        /**\n         * Process all the keydown events.\n         * \n         * @param e\n         * @returns void\n         */\n        onKeyDown(e) {\n            this.$emit('keydown', e);\n        },\n\n        /**\n         * Process the onfocus event.\n         * \n         * @param e\n         * @returns void\n         */\n        onFocus(e) {\n            this.$emit('focus', e);\n\n            this.isActive = true;\n        },\n\n        /**\n         * Process the onClick event.\n         * \n         * @param e\n         * @returns void\n         */\n        onClick(e) {\n            this.$emit('click', e);\n\n            this.isActive = true;\n\n            this.searchTag();\n        },\n\n        /**\n         * Process the onblur event.\n         * \n         * @param e\n         * @returns void\n         */\n        onBlur(e) {\n            this.$emit('blur', e)\n\n            if (this.addTagsOnBlur) {\n                // Add the inputed tag\n                this.tagFromInput(true);\n            }\n\n            if (!this.typeaheadAlwaysShow) {\n                this.hideTypeahead();\n            } else {\n                this.searchTag();\n            }\n\n            this.isActive = false;\n        },\n    }\n}\n</script>\n"]}]}